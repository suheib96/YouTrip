<h1 class="margin-top">Bewertungen</h1>

<table>
    <tr *ngFor="let rating of ratings;">
        <td>
            <p>Bewertung: {{rating.score}}</p>
        </td>

        <td>
            <p class="margin-left">Kommentar: {{rating.comment}}</p>
        </td>

        <td>
            <div *ngIf="showAdminFunction">
                <button (click)="rating.edit = !rating.edit">Bearbeiten</button>
                <button (click)="handleDeleteRating(rating.id)">Löschen</button>
                <div *ngIf="rating.edit">
                    <form [formGroup]="form" (ngSubmit)="handleEditRating(rating.id, activityId)">

                        <input formControlName="score" type="number" placeholder="Bewertung" />

                        <div
                            *ngIf="form.controls.score.invalid && (form.controls.score.touched || form.controls.score.dirty)">
                            Bewertung nur zwischen 1 und 5 möglich!
                        </div>

                        <input formControlName="comment" type="text" placeholder="Kommentar" />

                        <div
                            *ngIf="form.controls.comment.invalid && (form.controls.comment.touched || form.controls.comment.dirty)">
                            Bitte die Felder ausfüllen
                        </div>

                        <button type="submit">Speichern</button>

                    </form>
                </div>
            </div>
        </td>
    </tr>
</table>